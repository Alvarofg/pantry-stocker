<div ng-include="'views/partials/nav.html'"></div>
<!-- Navigation Above -->

<div layout-xs="column">
    <div>
        <md-autocomplete md-floating-label="Search for Items" md-selected-item="aic.selectedItem" md-search-text="aic.searchText"
            md-items="item in aic.querySearch(aic.searchText)" md-item-text="item.item_name" md-selected-item-change="aic.selectedItemChange(item)"
            placeholder="Search for Items" md-match-case-insensitive=true md-min-length="1" md-clear-button="false">
            <md-item-template>
                <span md-highlight-text="searchText">{{item.item_name}}</span>
            </md-item-template>
            <md-not-found>
                "{{aic.searchText}}" not found.
                <span ng-click="aic.addItem(aic.searchText)">Add to my pantries!</span>
            </md-not-found>
        </md-autocomplete>
        <md-button ng-click="aic.clearSearch()">clear</md-button>
        <!-- Pantries loaded with quantities when item is selected above -->
        <div ng-hide="aic.editAddItem" class="ng-hide">
            <div layout="row" ng-repeat="pantry in aic.itemStock.totals track by $index">
                <p>{{pantry.label}}</p>
                <md-input-container>
                    <label for="pantryQty">Quantity:</label>
                    <input id="pantryQty" ng-blur="aic.updatePantryQty(pantry, aic.selectedItem)" ng-model="pantry.quantity" type="number">
                </md-input-container>
            </div>
            <!-- add a hide show here for when the stock totals run -->
            <md-input-container ng-hide="aic.addEditItem">
                <label for="reminderQty">Reminder Quantity:</label>
                <br>
                <input id="reminderQty" ng-model="aic.reminderQuantity" type="number">
            </md-input-container>

            <md-button ng-hide="aic.addEditItem" ng-click="aic.addItem(aic.selectedItem, aic.reminderQuantity)">Update Item</md-button>

        </div>
    </div>
</div>

<!-- ADD ITEM FORM PART WILL GO DOWN HERE -->