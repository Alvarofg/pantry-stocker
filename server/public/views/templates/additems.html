<div ng-include="'views/partials/nav.html'"></div>
<!-- Navigation Above -->

<div layout-xs="column">
    <div>
        <md-autocomplete 
            md-selected-item="aic.selectedItem" 
            md-search-text="aic.searchText" 
            md-items="item in aic.querySearch(aic.searchText)"
            md-item-text="item.item_name"
            md-selected-item-change="aic.selectedItemChange(item)"
            placeholder="Search by Item Name"
            md-match-case-insensitive=true
            md-min-length="1">
            <md-item-template>
                <span md-highlight-text="searchText">{{item.item_name}}</span>
            </md-item-template>
            <md-not-found>
                No "{{aic.searchText}}" were found.
                <span ng-click="aic.addNewItem(aic.searchText)">Create a new one!</span>
            </md-not-found>
        </md-autocomplete>

        <md-input-container>
            <label for="itemQuantity">Quantity:</label>
            <br>
            <input id="itemQuantity" ng-model="aic.item.itemQuantity" type="number">
        </md-input-container>

        
        <md-input-container>
            <label for="itemStore">Store</label>
            <md-select id="itemStore" ng-model="aic.item.itemStore">
                <md-option>None</md-option>
                <md-option ng-repeat="store in aic.userStoreList.allstores" ng-value="store.store_id">{{store.label}}</md-option>
            </md-select>
        </md-input-container>

        <div>
            <label>Pantries:</label>
            <!-- ADD AN NG-MODEL FOR THE DATA TO BIND TO AND HAVE THE FUNCTION IN THE CONTROLLER SET THAT VALUE WHEN IT RUNS THE FUNCTION -->
            <div ng-repeat="pantry in aic.userPantryList.allpantries"><!-- Update this -->
                {{pantry.pantry_id}}
                <md-checkbox ng-model="aic.pantry.pantry_id" ng-checked="aic.checkPantryBox" aria-label="none">{{pantry.label}}</md-checkbox>
            </div>
        </div>

        <md-input-container>
            <label for="itemStore">Store</label>
            <md-select id="itemStore" ng-model="aic.item.itemStore">
                <md-option>None</md-option>
                <md-option ng-repeat="store in aic.userStoreList.allstores" ng-value="store.store_id">{{store.label}}</md-option>
            </md-select>
        </md-input-container>

        <md-input-container>
            <label for="reminderQty">Reminder Quantity:</label>
            <br>
            <input id="reminderQty" ng-model="aic.item.reminderQuantity" type="number">
        </md-input-container>

        <md-button ng-click="aic.addItem(aic.item)">Add Item</md-button>
    </div>
</div>