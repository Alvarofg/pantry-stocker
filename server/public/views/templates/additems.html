<div ng-include="'views/partials/nav.html'"></div>
<!-- Navigation Above -->

<div layout-xs="column">
    <div>
        <md-autocomplete 
            md-floating-label="Search for Items" 
            md-selected-item="aic.selectedItem" 
            md-search-text="aic.searchText"
            md-items="item in aic.querySearch(aic.searchText)" 
            md-item-text="item.item_name" 
            md-selected-item-change="aic.selectedItemChange(item)"
            placeholder="Search for Items" 
            md-match-case-insensitive=true 
            md-min-length="1" 
            md-clear-button="false">
            <md-item-template>
                <span md-highlight-text="searchText">{{item.item_name}}</span>
            </md-item-template>
            <md-not-found>
                "{{aic.searchText}}" not found.
                <span ng-click="aic.addItem(aic.searchText)">Add to my pantries!</span>
            </md-not-found>
        </md-autocomplete>
        <md-button ng-click="aic.clearSearch()">clear</md-button>
        <!-- Pantries loaded with quantities when item is selected above -->
        
        <div ng-hide="aic.editAddItem" class="ng-hide">
            <div layout="row" ng-repeat="pantry in aic.itemStock track by $index">
                <p>{{pantry.label}}</p>
                <md-input-container>
                    <label for="pantryQty">Quantity:</label>
                    <input id="pantryQty" ng-blur="aic.updatePantryQty(pantry, aic.selectedItem)" ng-model="pantry.quantity" type="number">
                </md-input-container>
            </div>
            <!-- add a hide show here for when the stock totals run -->
            <md-input-container ng-hide="aic.addEditItem">
                <label for="reminderQty">Reminder Quantity:</label>
                <br>
                <input id="reminderQty" ng-model="aic.minimumQty" ng-blur="aic.updateMinQty(aic.selectedItem, aic.minimumQty)" type="number">
            </md-input-container>

        </div>
    </div>
</div>

<!-- ADD ITEM FORM PART WILL GO DOWN HERE -->
<!-- <md-button ng-click="aic.showConfirm($event)">Click this.</md-button> -->

<div ng-show="aic.addItemForm"> 
        <div layout="row" ng-repeat="pantry in aic.userPantryList.allpantries track by $index">
            <p>{{pantry.label}}</p>
            <md-input-container>
                <label for="pantryQty">Quantity:</label>
                <input id="pantryQty" ng-model="pantry.quantity" type="number">
            </md-input-container>
        </div>
        <!-- add a hide show here for when the stock totals run -->
        <md-input-container>
            <label for="reminderQty">Reminder Quantity:</label>
            <br>
            <input id="reminderQty" ng-model="aic.minimumQty" type="number">
        </md-input-container>

        <md-button ng-click="aic.addNewItemToPantry(aic.searchText, aic.userPantryList.allpantries, aic.minimumQty)">Add Item to Pantry</md-button>
    
    
</div>